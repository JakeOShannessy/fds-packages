diff --git a/Build/impi_intel_linux/make_fds.sh b/Build/impi_intel_linux/make_fds.sh
index 5e449d368..22de03a5d 100755
--- a/Build/impi_intel_linux/make_fds.sh
+++ b/Build/impi_intel_linux/make_fds.sh
@@ -7,4 +7,4 @@ dir=`pwd`
 target=${dir##*/}
 
 echo Building $target with Intel MPI and $INTEL_IFORT
-make -j4 VPATH="../../Source" -f ../makefile $target
+make -j4 VPATH="../../Source" INTEL_IFORT=ifx INTEL_MPI_IFORT=mpiifx -f ../makefile $target
diff --git a/Build/impi_intel_linux_openmp/make_fds.sh b/Build/impi_intel_linux_openmp/make_fds.sh
index 5e449d368..22de03a5d 100755
--- a/Build/impi_intel_linux_openmp/make_fds.sh
+++ b/Build/impi_intel_linux_openmp/make_fds.sh
@@ -7,4 +7,4 @@ dir=`pwd`
 target=${dir##*/}
 
 echo Building $target with Intel MPI and $INTEL_IFORT
-make -j4 VPATH="../../Source" -f ../makefile $target
+make -j4 VPATH="../../Source" INTEL_IFORT=ifx INTEL_MPI_IFORT=mpiifx -f ../makefile $target
diff --git a/Build/makefile b/Build/makefile
index 256a8c3cc..c46039ba3 100644
--- a/Build/makefile
+++ b/Build/makefile
@@ -14,8 +14,14 @@ VPATH = ../Source
 # set compiler type 
 
 I_IFORT=ifort
+MPI_I_IFORT=mpifort
+
 ifdef INTEL_IFORT
-   I_IFORT=$(INTEL_IFORT)
+  I_IFORT=$(INTEL_IFORT)
+endif
+
+ifdef INTEL_MPI_IFORT
+  MPI_I_IFORT=$(INTEL_MPI_IFORT)
 endif
 
 ifeq ($(shell echo "check_quotes"),"check_quotes")
@@ -87,8 +93,8 @@ else
 ifneq ("$(wildcard ${MKLROOT}/lib/intel64/libmkl_blacs_intelmpi_lp64.a)","")
 # Use cluster_sparse_solver with intelmpi blacs
   FFLAGSMKL_INTEL = -DWITH_MKL -I"${MKLROOT}/include"
-  LFLAGSMKL_INTEL = -Wl,--start-group ${MKLROOT}/lib/intel64/libmkl_intel_lp64.a ${MKLROOT}/lib/intel64/libmkl_sequential.a ${MKLROOT}/lib/intel64/libmkl_core.a ${MKLROOT}/lib/intel64/libmkl_blacs_intelmpi_lp64.a -Wl,--end-group -lpthread -lm -ldl
-  LFLAGSMKL_INTEL_OPENMP = -Wl,--start-group ${MKLROOT}/lib/intel64/libmkl_intel_lp64.a ${MKLROOT}/lib/intel64/libmkl_intel_thread.a ${MKLROOT}/lib/intel64/libmkl_core.a ${MKLROOT}/lib/intel64/libmkl_blacs_intelmpi_lp64.a -Wl,--end-group -liomp5 -lpthread -lm -ldl
+  LFLAGSMKL_INTEL = -Wl,--start-group ${MKLROOT}/lib/intel64/libmkl_intel_lp64.a ${MKLROOT}/lib/intel64/libmkl_sequential.a ${MKLROOT}/lib/intel64/libmkl_core.a ${MKLROOT}/lib/intel64/libmkl_blacs_intelmpi_lp64.a -Wl,--end-group -lpthread -ldl
+  LFLAGSMKL_INTEL_OPENMP = -Wl,--start-group ${MKLROOT}/lib/intel64/libmkl_intel_lp64.a ${MKLROOT}/lib/intel64/libmkl_intel_thread.a ${MKLROOT}/lib/intel64/libmkl_core.a ${MKLROOT}/lib/intel64/libmkl_blacs_intelmpi_lp64.a -Wl,--end-group -liomp5 -lpthread -ldl
 endif
 ifneq ("$(wildcard ${MKLROOT}/lib/intel64/libmkl_blacs_openmpi_lp64.a)","")
 # Use cluster_sparse_solver with openmpi blacs
@@ -219,14 +225,14 @@ impi_intel_win_openmp_db : setup_win $(objwin_mpi)
  
 impi_intel_linux : FFLAGS = -m64 -fc=$(I_IFORT) -O2 -ipo -no-wrap-margin $(GITINFO) $(INTELMPI_COMPINFO) $(FFLAGSMKL_INTEL) -DUSE_IFPORT
 impi_intel_linux : LFLAGSMKL = $(LFLAGSMKL_INTEL)
-impi_intel_linux : FCOMPL = mpiifort
+impi_intel_linux : FCOMPL = $(MPI_I_IFORT)
 impi_intel_linux : obj = fds_impi_intel_linux
 impi_intel_linux : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
 
 impi_intel_linux_openmp : FFLAGS = -m64 -fc=$(I_IFORT) -O2 -ipo -no-wrap-margin $(GITINFO) $(INTELMPI_COMPINFO) $(FFLAGSMKL_INTEL) -DUSE_IFPORT
 impi_intel_linux_openmp : LFLAGSMKL = $(LFLAGSMKL_INTEL_OPENMP)
-impi_intel_linux_openmp : FCOMPL = mpiifort
+impi_intel_linux_openmp : FCOMPL = $(MPI_I_IFORT)
 impi_intel_linux_openmp : FOPENMPFLAGS = -qopenmp
 impi_intel_linux_openmp : obj = fds_impi_intel_linux_openmp
 impi_intel_linux_openmp : setup $(obj_mpi)
@@ -234,14 +240,14 @@ impi_intel_linux_openmp : setup $(obj_mpi)
 
 impi_intel_linux_db : FFLAGS = -m64 -fc=$(I_IFORT) -check all -warn all -diag-error=remark,warn,error -O0 -g -traceback -fpe0 -nofltconsistency -stand:f18 -no-wrap-margin $(GITINFO) $(INTELMPI_COMPINFO) $(FFLAGSMKL_INTEL) -DUSE_IFPORT
 impi_intel_linux_db : LFLAGSMKL = $(LFLAGSMKL_INTEL)
-impi_intel_linux_db : FCOMPL = mpiifort
+impi_intel_linux_db : FCOMPL = $(MPI_I_IFORT)
 impi_intel_linux_db : obj = fds_impi_intel_linux_db
 impi_intel_linux_db : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
 
 impi_intel_linux_openmp_db : FFLAGS = -m64 -fc=$(I_IFORT) -check all -warn all -diag-error=remark,warn,error -O0 -g -traceback -fpe0 -nofltconsistency -stand:f18 -no-wrap-margin $(GITINFO) $(INTELMPI_COMPINFO) $(FFLAGSMKL_INTEL) -DUSE_IFPORT
 impi_intel_linux_openmp_db : LFLAGSMKL = $(LFLAGSMKL_INTEL_OPENMP)
-impi_intel_linux_openmp_db : FCOMPL = mpiifort
+impi_intel_linux_openmp_db : FCOMPL = $(MPI_I_IFORT)
 impi_intel_linux_openmp_db : FOPENMPFLAGS = -qopenmp
 impi_intel_linux_openmp_db : obj = fds_impi_intel_linux_openmp_db
 impi_intel_linux_openmp_db : setup $(obj_mpi)
@@ -249,14 +255,14 @@ impi_intel_linux_openmp_db : setup $(obj_mpi)
 
 impi_intel_linux_dv : FFLAGS = -m64 -fc=$(I_IFORT) -warn unused -O1 -g -traceback -no-wrap-margin $(GITINFO) $(INTELMPI_COMPINFO) $(FFLAGSMKL_INTEL) -DUSE_IFPORT
 impi_intel_linux_dv : LFLAGSMKL = $(LFLAGSMKL_INTEL)
-impi_intel_linux_dv : FCOMPL = mpiifort
+impi_intel_linux_dv : FCOMPL = $(MPI_I_IFORT)
 impi_intel_linux_dv : obj = fds_impi_intel_linux_dv
 impi_intel_linux_dv : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
 
 impi_intel_linux_openmp_dv : FFLAGS = -m64 -fc=$(I_IFORT) -warn unused -O1 -g -traceback -no-wrap-margin $(GITINFO) $(INTELMPI_COMPINFO) $(FFLAGSMKL_INTEL) -DUSE_IFPORT
 impi_intel_linux_openmp_dv : LFLAGSMKL = $(LFLAGSMKL_INTEL_OPENMP)
-impi_intel_linux_openmp_dv : FCOMPL = mpiifort
+impi_intel_linux_openmp_dv : FCOMPL = $(MPI_I_IFORT)
 impi_intel_linux_openmp_dv : FOPENMPFLAGS = -qopenmp
 impi_intel_linux_openmp_dv : obj = fds_impi_intel_linux_openmp_dv
 impi_intel_linux_openmp_dv : setup $(obj_mpi)
@@ -267,7 +273,7 @@ impi_intel_linux_openmp_dv : setup $(obj_mpi)
 ompi_intel_osx : FFLAGS = -m64 -O2 -stand:f18 -no-wrap-margin $(GITINFO) $(OPENMPI_COMPINFO) $(FFLAGSMKL_CUSTOM)
 ompi_intel_osx : LFLAGSMKL = $(LFLAGSMKL_CUSTOM)
 ompi_intel_osx : LFLAGS = -static-intel
-ompi_intel_osx : FCOMPL = mpifort
+ompi_intel_osx : FCOMPL = $(MPI_I_IFORT)
 ompi_intel_osx : obj = fds_ompi_intel_osx
 ompi_intel_osx : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) $(LFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
@@ -276,7 +282,7 @@ ompi_intel_osx_openmp : FFLAGS = -m64 -O2 -stand:f18 -no-wrap-margin $(GITINFO)
 ompi_intel_osx_openmp : LFLAGSMKL = $(LFLAGSMKL_CUSTOM_OPENMP)
 ompi_intel_osx_openmp : LFLAGS = -static-intel
 ompi_intel_osx_openmp : FOPENMPFLAGS = -qopenmp -qopenmp-link static
-ompi_intel_osx_openmp : FCOMPL = mpifort
+ompi_intel_osx_openmp : FCOMPL = $(MPI_I_IFORT)
 ompi_intel_osx_openmp : obj = fds_ompi_intel_osx_openmp
 ompi_intel_osx_openmp : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) $(LFLAGS) $(FOPENMPFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
@@ -284,7 +290,7 @@ ompi_intel_osx_openmp : setup $(obj_mpi)
 ompi_intel_osx_db : FFLAGS = -m64 -check all -fp-stack-check -warn unused -O0 -auto -WB -g -traceback -fpe0 -nofltconsistency -stand:f18 -no-wrap-margin $(GITINFO) $(OPENMPI_COMPINFO) $(FFLAGSMKL_CUSTOM)
 ompi_intel_osx_db : LFLAGSMKL = $(LFLAGSMKL_CUSTOM)
 ompi_intel_osx_db : LFLAGS = -static-intel
-ompi_intel_osx_db : FCOMPL = mpifort
+ompi_intel_osx_db : FCOMPL = $(MPI_I_IFORT)
 ompi_intel_osx_db : obj = fds_ompi_intel_osx_db
 ompi_intel_osx_db : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) $(LFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
@@ -293,7 +299,7 @@ ompi_intel_osx_openmp_db : FFLAGS = -m64 -check all -fp-stack-check -warn unused
 ompi_intel_osx_openmp_db : LFLAGSMKL = $(LFLAGSMKL_CUSTOM_OPENMP)
 ompi_intel_osx_openmp_db : LFLAGS = -static-intel
 ompi_intel_osx_openmp_db : FOPENMPFLAGS = -qopenmp -qopenmp-link static
-ompi_intel_osx_openmp_db : FCOMPL = mpifort
+ompi_intel_osx_openmp_db : FCOMPL = $(MPI_I_IFORT)
 ompi_intel_osx_openmp_db : obj = fds_ompi_intel_osx_openmp_db
 ompi_intel_osx_openmp_db : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) $(LFLAGS) $(FOPENMPFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
@@ -301,7 +307,7 @@ ompi_intel_osx_openmp_db : setup $(obj_mpi)
 ompi_intel_osx_dv : FFLAGS = -m64 -warn unused -O1 -g -traceback -stand:f18 -no-wrap-margin  $(GITINFO) $(OPENMPI_COMPINFO) $(FFLAGSMKL_CUSTOM)
 ompi_intel_osx_dv : LFLAGSMKL = $(LFLAGSMKL_CUSTOM)
 ompi_intel_osx_dv : LFLAGS = -static-intel
-ompi_intel_osx_dv : FCOMPL = mpifort
+ompi_intel_osx_dv : FCOMPL = $(MPI_I_IFORT)
 ompi_intel_osx_dv : obj = fds_ompi_intel_osx_dv
 ompi_intel_osx_dv : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) $(LFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
@@ -310,7 +316,7 @@ ompi_intel_osx_openmp_dv : FFLAGS = -m64 -warn unused -O1 -g -traceback -stand:f
 ompi_intel_osx_openmp_dv : LFLAGSMKL = $(LFLAGSMKL_CUSTOM_OPENMP)
 ompi_intel_osx_openmp_dv : LFLAGS = -static-intel
 ompi_intel_osx_openmp_dv : FOPENMPFLAGS = -qopenmp -qopenmp-link static
-ompi_intel_osx_openmp_dv : FCOMPL = mpifort
+ompi_intel_osx_openmp_dv : FCOMPL = $(MPI_I_IFORT)
 ompi_intel_osx_openmp_dv : obj = fds_ompi_intel_osx_openmp_dv
 ompi_intel_osx_openmp_dv : setup $(obj_mpi)
 	$(FCOMPL) $(FFLAGS) $(LFLAGS) $(FOPENMPFLAGS) -o $(obj) $(obj_mpi) $(LFLAGSMKL)
@@ -319,7 +325,7 @@ ompi_intel_osx_openmp_dv : setup $(obj_mpi)
 
 ompi_gnu_linux : FFLAGS = -m64 -O2 -std=f2018 -frecursive -ffpe-summary=none -fall-intrinsics $(GITINFOGNU) $(GNU_COMPINFO) $(FFLAGSMKL_GNU_OPENMPI) $(GFORTRAN_OPTIONS)
 ompi_gnu_linux : LFLAGSMKL = $(LFLAGSMKL_GNU_OPENMPI)
-ompi_gnu_linux : FCOMPL = mpifort
+ompi_gnu_linux : FCOMPL = $(MPI_I_IFORT)
 ompi_gnu_linux : FOPENMPFLAGS = -fopenmp
 ompi_gnu_linux : obj = fds_ompi_gnu_linux
 ompi_gnu_linux : setup $(obj_mpi)
@@ -327,7 +333,7 @@ ompi_gnu_linux : setup $(obj_mpi)
 
 ompi_gnu_linux_db : FFLAGS = -m64 -O0 -std=f2018 -ggdb -Wall -Werror -Wunused-parameter -Wcharacter-truncation -Wno-target-lifetime -fcheck=all -fbacktrace -ffpe-trap=invalid,zero,overflow -frecursive -ffpe-summary=none -fall-intrinsics -fbounds-check $(GITINFOGNU) $(GNU_COMPINFO) $(FFLAGSMKL_GNU_OPENMPI) $(GFORTRAN_OPTIONS)
 ompi_gnu_linux_db : LFLAGSMKL = $(LFLAGSMKL_GNU_OPENMPI)
-ompi_gnu_linux_db : FCOMPL = mpifort
+ompi_gnu_linux_db : FCOMPL = $(MPI_I_IFORT)
 ompi_gnu_linux_db : FOPENMPFLAGS = -fopenmp
 ompi_gnu_linux_db : obj = fds_ompi_gnu_linux_db
 ompi_gnu_linux_db : setup $(obj_mpi)
