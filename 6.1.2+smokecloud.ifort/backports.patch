diff --git a/FDS_Source/main.f90 b/FDS_Source/main.f90
index 4b7a8a90c..87eb9d6a7 100644
--- a/FDS_Source/main.f90
+++ b/FDS_Source/main.f90
@@ -1362,8 +1362,6 @@ ELSE
    STOP_STATUS = PROCESS_STOP_STATUS
 ENDIF
 
-CALL MPI_FINALIZE(IERR)
-
 IF (MYID==0) THEN
    SELECT CASE(STOP_STATUS)
       CASE(NO_STOP)
@@ -1385,6 +1383,10 @@ IF (MYID==0) THEN
    IF (OPN) WRITE(LU_OUTPUT,'(/A,A,A,A)') TRIM(MESSAGE),' (CHID: ',TRIM(CHID),')'
 ENDIF
 
+IF (USE_MPI) THEN
+   CALL MPI_FINALIZE(IERR)
+ENDIF
+
 STOP
 
 END SUBROUTINE END_FDS
diff --git a/FDS_Source/smvv.f90 b/FDS_Source/smvv.f90
index 0aa5b22f0..76cff5e1a 100644
--- a/FDS_Source/smvv.f90
+++ b/FDS_Source/smvv.f90
@@ -839,7 +839,7 @@ SUBROUTINE SMOKE3D_TO_FILE(LU_SMOKE3D,LU_SMOKE3D_SIZE,TIME,DX,EXTCOEF,SMOKE_TYPE
   REAL(FB), INTENT(IN) :: HRRPUV_MAX_SMV
   
   INTEGER, PARAMETER :: SOOT=1, FIRE=2, OTHER=3
-  CHARACTER(LEN=1), DIMENSION(:), POINTER :: BUFFER_IN, BUFFER_OUT
+  CHARACTER(LEN=1), DIMENSION(:), ALLOCATABLE :: BUFFER_IN, BUFFER_OUT
   INTEGER :: NCHARS_IN
   REAL(FB) :: FACTOR,VAL
   REAL(FB) :: CUTMAX
@@ -903,7 +903,7 @@ SUBROUTINE RLE(BUFFER_IN, NCHARS_IN, BUFFER_OUT, NCHARS_OUT)
 
   INTEGER, INTENT(IN) :: NCHARS_IN
   CHARACTER(LEN=1), INTENT(IN), DIMENSION(NCHARS_IN) :: BUFFER_IN
-  CHARACTER(LEN=1), INTENT(OUT), DIMENSION(:), POINTER :: BUFFER_OUT
+  CHARACTER(LEN=1), INTENT(OUT), DIMENSION(:) :: BUFFER_OUT
   INTEGER, INTENT(OUT) :: NCHARS_OUT
   
   CHARACTER(LEN=1) :: MARK=CHAR(255),THISCHAR,LASTCHAR
